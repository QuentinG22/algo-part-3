<!doctype html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Exo d'Algo(3) - Ma phase</title>
    <!-- link href="./bootstrap.min.css" rel="stylesheet" / -->
    <link href="./style.css" rel="stylesheet" />
    <script type="text/javascript" src="./tools.js"></script>
</head>

<body>
<!-- a href="index.html">← revenir à la liste des exos</a -->
<div class="card">
    <p class="h6 font-weight-bold text-center">#01 - Ma phrase</p>
    <div class="instructions">
        <p class="text-secondary">Saisissez une phrase, puis déclenchez son analyse en cliquant sur le bouton.<br/>
            Complétez la fonction 'analyse' qui devra retourner un tableau (Array) contenant les 4 éléments suivants :
        </p>
        <ul>
            <li>le nombre de caractères de la phrase,</li>
            <li>le 5ième caractère de la phrase,</li>
            <li>une chaine de caractères contenant les 3 premiers caractères de la phrase,</li>
            <li>une chaine de caractères contenant les 3 derniers caractères de la phrase</li>
        </ul>
        <p class="text-secondary">
            Indices et conseils :
        </p>
        <ol>
            <li><b>Avant de commencer</b> à coder, en vous appuyant sur MDN Web Docs (ou équivalent) :
                <ul>
                    <li>étudier l'objet Javascript String (ses propriétés et surtout ses méthodes)</li>
                    <li>étudier l'objet Javascript Array (ses propriétés et surtout ses méthodes)</li>
                </ul>
            </li>
            <li>Pour démarrer votre code :<br/>
                Vérifier que la phrase contient au moins 5 caractères, sous peine d'avoir quelques soucis...<br/>
                Si ce n'est pas le cas, la fonction devra retourner un tableau ne contenant que le premier élément demandé, 
                c'est à dire le nombre de caractères de la phrase</li>
        </ol>
        <p class="text-secondary">Si tout se passe normalement :</p>
        <p class="text-success">Une alerte affichera le contenu de votre tableau d'analyse"</p>
    </div>

        <label>Ma phase</label>
        <br />
        <input type="text" id="sentence" placeholder="Votre phrase" />

    <button type="button" class="btn btn-primary" onclick="analyse()">
        Analyser la phrase
    </button>
</div>

    <script type="text/javascript">

        /* La function sert à recupérer une phrase saisi par l'utilisateur,
         * pour ensuite l'analyser avec les paramètres donnée.
         */

        function analyse() {
            // Récupérer la phrase saisi
            const maPhrase = document.getElementById("sentence").value
            // Création du tableau
            let myTab
            // Si la phrase est inférieur à 5 caractères en enlevant le espace si il y en a dans le mots
            if (maPhrase.length < 5) {
                myTab = [maPhrase.length]
                alert("Nombre de caractère: " + myTab[0])
                console.log(myTab)
                return (myTab)
            }

            // Si la phrase est supérieur à 5 caractères en enlevant le espace si il y en a dans le mots
            else {
                myTab = [maPhrase.length, maPhrase[4], maPhrase.replaceAll(" ", "").slice(0, 3), maPhrase.replaceAll(" ", "").slice(-3)]
                // Nombre de caractère de la phrase
                let message = "Voici le résultat de l'analyse: \n\n"
                // 5ème caractère de la phrase
                let message1 = "Nombre de caractère: " + myTab[0] + "\n"
                // Les 3 premiers caractères de la phrase
                let message2 = "Le 5ème caractère: " + myTab[1] + "\n"
                // Les 3 premiers caractères de la phrase
                let message3 = "Les 3 premiers caractère: " + myTab[2] + "\n"
                // Les 3 dernier caractères de la phrase en enlevant le espace si il y en a dans le mots
                let message4 = "Les 3 derniers caractère: " + myTab[3]
                alert(message + message1 + message2 + message3 + message4)
                console.log(myTab)
                return (myTab)
            }
        }

    </script>
</body>

</html>